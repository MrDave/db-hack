# db-hack
"Исправь" свои отметки в электронном дневнике

## Установка
Python уже должен быть установлен. Рекомендуется использование виртуального окружения, например [venv](https://docs.python.org/3/library/venv.html)

Для использования понадобится [сайт электронного дневника](https://github.com/devmanorg/e-diary) и база данных с данными учеников и уроков (описание контента базы можно посмотреть в README сайта).  

### Сайт электронного дневника

- Скачайте код из [репозитория](https://github.com/devmanorg/e-diary)
- Установите зависимости командой `pip install -r requirements.txt`
- Создайте БД командой `python3 manage.py migrate`

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступны 4 переменные:
- `DEBUG` — дебаг-режим. Поставьте True, чтобы увидеть отладочную информацию в случае ошибки.
- `SECRET_KEY` — секретный ключ проекта
- `ALLOWED_HOSTS` — см [документацию Django](https://docs.djangoproject.com/en/3.1/ref/settings/#allowed-hosts).
- `DATABASE_NAME` — путь до базы данных, например: `schoolbase.sqlite3`

### Скрипты

Скачайте файл `scripts.py` из текущего репозитория и положите в корневой каталог кода сайта рядом с файлом `manage.py`

## Как запустить

- Запустите сервер:
 ```commandline
 python manage.py runserver
```
- В отдельном окне командной строки/терминала запустите shell:
```commandline
python manage.py shell
```

Для работы необходимо импортировать скрипты:
```python
import scripts
```
После этого можно пользоваться скриптами:
- `fix_marks` - для исправления всех оценок "2" и "3" на "5"
- `remove_chastisements` - для удаления замечаний от преподавателей
- `create_commendation` - для создания случайного положительного отзыва от лица преподавателя

```python
import scripts

scripts.fix_marks("Имя ученика")
scripts.remove_chastisements("Имя ученика")
scripts.create_commendation("Имя ученика", "Название предмета")
```

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).